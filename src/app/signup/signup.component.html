<div class="login-container">
  <form [formGroup]="signupForm" (ngSubmit)="submitDetails()" class="sign-form">
    <div class="logo-container">
      <img src="../../assets/logo.svg" class="logo-image">
    </div>
    <h1> Sign Up </h1>

    <div class="field">
      <label for="fullName">Full Name:</label>
      <input type="text" formControlName="fullName" class="w-full rounded-md p-2" name="fullName" placeholder="Type your name" />
      <small *ngIf="signupForm.get('fullName')?.invalid && (signupForm.get('fullName')?.dirty || signupForm.get('fullName')?.touched)">
        <div *ngIf="signupForm.get('fullName')?.errors?.['required']">Name is required.</div>
        <div *ngIf="signupForm.get('fullName')?.errors?.['pattern']">Enter a valid name</div>
      </small>
    </div>

    <div class="field">
      <label for="username">Username:</label>
      <input type="text" formControlName="username" class="w-full rounded-md p-2" name="username" placeholder="Type your username" />
      <small *ngIf="signupForm.get('username')?.invalid && (signupForm.get('username')?.dirty || signupForm.get('username')?.touched)">
        <div *ngIf="signupForm.get('username')?.errors?.['required']">Username is required.</div>
      </small>
    </div>

    <div class="field">
      <label for="email">Email:</label>
      <input type="email" formControlName="email" class="w-full rounded-md p-2" name="email" placeholder="Type your email" />
      <small *ngIf="signupForm.get('email')?.invalid && (signupForm.get('email')?.dirty || signupForm.get('email')?.touched)">
        <div *ngIf="signupForm.get('email')?.errors?.['required']">Email is required.</div>
        <div *ngIf="signupForm.get('email')?.errors?.['email']">Email should be valid</div>
      </small>
    </div>

    <div class="field">
      <label for="password">Password:</label>
      <div class="password-input">
        <input type="{{ showPassword ? 'text' : 'password' }}" formControlName="password" class="w-full rounded-md p-2" name="password" placeholder="Type your password" />
        <div class="password-icon" (click)="togglePasswordVisibility()">
          <i class="fas fa-eye"></i>
        </div>
      </div>
      <small *ngIf="signupForm.get('password')?.invalid && (signupForm.get('password')?.dirty || signupForm.get('password')?.touched)">
        <div *ngIf="signupForm.get('password')?.errors?.['required']">Password is required.</div>
      </small>
    </div>

    <div class="field">
      <label for="confirmPassword">Confirm Password:</label>
      <div class="password-input">
        <input type="{{ showConfirmPassword ? 'text' : 'password' }}" formControlName="confirmPassword" class="w-full rounded-md p-2" name="confirmPassword" placeholder="Confirm Password" />
        <div class="password-icon" (click)="toggleConfirmPasswordVisibility()">
          <i class="fas {{ showConfirmPassword ? 'fa-eye-slash' : 'fa-eye' }}"></i>
        </div>
      </div>
      <small *ngIf="signupForm.get('confirmPassword')?.invalid && (signupForm.get('confirmPassword')?.dirty || signupForm.get('confirmPassword')?.touched)">
        <div *ngIf="signupForm.get('confirmPassword')?.errors?.['required']">Confirm the password</div>
      </small>
      <small class="block error" *ngIf="signupForm.errors?.['passwordMismatch'] && signupForm.get('confirmPassword')?.valid && signupForm.get('password')?.valid">
        Password should match
      </small>
    </div>

    <br>
    <button class="w-full" [disabled]="signupForm.invalid" type="submit">Sign Up</button>
    <div class="mt-2">Already a member? <a routerLink="/login">Login</a></div>
  </form>
</div>
